(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)o=s[p],i[o]&&d.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},a=[];function o(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ad763791"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e),a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");o.type=r,o.request=a,n[1](o)}i[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v("\n    |\n    "),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v("\n    |\n    "),n("router-link",{attrs:{to:"/recipes/new"}},[e._v("Make a recipe")]),e._v("\n    |\n    "),e.jwt?e._e():n("router-link",{attrs:{to:"/signup"}},[e._v("Signup")]),e._v("\n    |\n    "),e.jwt?e._e():n("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v("\n    |\n    "),e.jwt?n("router-link",{attrs:{to:"/logout"}},[e._v("Logout")]):e._e()],1),n("router-view",{on:{changeJwt:function(t){return e.setJwt()}}})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("Navbar")]),n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})]),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[n("ul",{staticClass:"navbar-nav mr-auto"},[n("li",{staticClass:"nav-item active"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v("\n            Home\n            "),n("span",{staticClass:"sr-only"},[e._v("(current)")])])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v("Link")])]),n("li",{staticClass:"nav-item dropdown"},[n("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n            Dropdown\n          ")]),n("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[n("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Action")]),n("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Another action")]),n("div",{staticClass:"dropdown-divider"}),n("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e._v("Something else here")])])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link disabled",attrs:{href:"#",tabindex:"-1","aria-disabled":"true"}},[e._v("Disabled")])])]),n("form",{staticClass:"form-inline my-2 my-lg-0"},[n("input",{staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"}}),n("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[e._v("Search")])])])])}],o={data:function(){return{jwt:null}},created:function(){this.jwt=localStorage.jwt,console.log("My jwt is",this.jwt)},methods:{setJwt:function(){this.jwt=localStorage.jwt}}},s=o,c=n("2877"),l=Object(c["a"])(s,i,a,!1,null,null,null),p=l.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h1",[e._v(e._s(e.message))]),n("p",[e._v("My name is "+e._s(e.name)+"!")]),n("div",[n("button",{on:{click:function(t){return e.setSortAttribute("title")}}},[e._v("Sort by title")]),n("button",{on:{click:function(t){return e.setSortAttribute("ingredients")}}},[e._v("Sort by ingredients")])]),e._v("\n  Search by title or ingredients:\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchFilter,expression:"searchFilter"}],attrs:{type:"text",list:"titles"},domProps:{value:e.searchFilter},on:{input:function(t){t.target.composing||(e.searchFilter=t.target.value)}}}),n("datalist",{attrs:{id:"titles"}},e._l(e.recipes,function(t){return n("option",[e._v(e._s(t.title))])}),0),n("transition-group",{attrs:{appear:"","enter-active-class":"animated rollIn","leave-active-class":"animated bounceOutDown"}},e._l(e.orderBy(e.filterBy(e.recipes,e.searchFilter,"title","ingredients"),e.sortAttribute,e.sortAscending),function(t){return n("div",{key:t.id},[n("h2",[e._v("Title: "+e._s(t.title))]),n("img",{attrs:{src:t.image_url,alt:t.title}}),n("router-link",{attrs:{to:"/recipes/"+t.id}},[e._v("More info")])],1)}),0)],1)},m=[],v=n("a7c6"),f=n.n(v),g=n("bc3a"),h={mixins:[f.a.mixin],data:function(){return{message:"Welcome to Vue.js!!!",name:"Peter",recipes:[],searchFilter:"",sortAttribute:"title",sortAscending:1}},created:function(){var e=this;g.get("/api/recipes").then(function(t){e.recipes=t.data,console.log(e.recipes)}).catch(function(t){console.log("Something went wrong...",t),t.response&&401===t.response.status&&e.$router.push("/login")})},methods:{setSortAttribute:function(e){this.sortAttribute===e&&1===this.sortAscending?this.sortAscending=-1:this.sortAscending=1,this.sortAttribute=e}}},w=h,b=(n("856a"),Object(c["a"])(w,d,m,!1,null,null,null)),_=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recipes-new"},[n("h1",[e._v("New Recipe")]),n("ul",e._l(e.errors,function(t){return n("li",[e._v(e._s(t))])}),0),n("form",{on:{submit:function(t){return t.preventDefault(),e.createRecipe()}}},[n("div",[e._v("\n      Title:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecipeTitle,expression:"newRecipeTitle"}],attrs:{type:"text"},domProps:{value:e.newRecipeTitle},on:{input:function(t){t.target.composing||(e.newRecipeTitle=t.target.value)}}}),e._v("\n      Chef:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecipeChef,expression:"newRecipeChef"}],attrs:{type:"text"},domProps:{value:e.newRecipeChef},on:{input:function(t){t.target.composing||(e.newRecipeChef=t.target.value)}}}),e._v("\n      Prep time:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecipePrepTime,expression:"newRecipePrepTime"}],attrs:{type:"text"},domProps:{value:e.newRecipePrepTime},on:{input:function(t){t.target.composing||(e.newRecipePrepTime=t.target.value)}}}),e._v("\n      Ingredients:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecipeIngredients,expression:"newRecipeIngredients"}],attrs:{type:"text"},domProps:{value:e.newRecipeIngredients},on:{input:function(t){t.target.composing||(e.newRecipeIngredients=t.target.value)}}}),e._v("\n      Directions:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecipeDirections,expression:"newRecipeDirections"}],attrs:{type:"text"},domProps:{value:e.newRecipeDirections},on:{input:function(t){t.target.composing||(e.newRecipeDirections=t.target.value)}}}),e._v("\n      Image url:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecipeImageUrl,expression:"newRecipeImageUrl"}],attrs:{type:"text"},domProps:{value:e.newRecipeImageUrl},on:{input:function(t){t.target.composing||(e.newRecipeImageUrl=t.target.value)}}})]),n("input",{attrs:{type:"submit",value:"Create recipe"}})])])},C=[],x=n("bc3a"),R={data:function(){return{newRecipeTitle:"",newRecipeChef:"",newRecipePrepTime:"",newRecipeIngredients:"",newRecipeDirections:"",newRecipeImageUrl:"",errors:[]}},methods:{createRecipe:function(){var e=this;console.log("Create the recipe..."),this.errors=[];var t={body_title:this.newRecipeTitle,body_chef:this.newRecipeChef,body_prep_time:this.newRecipePrepTime,body_ingredients:this.newRecipeIngredients,body_directions:this.newRecipeDirections};x.post("/api/recipes",t).then(function(t){e.$router.push("/")}).catch(function(t){console.log(t.response.data.errors),e.errors=t.response.data.errors})}}},P=R,j=Object(c["a"])(P,y,C,!1,null,null,null),k=j.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recipes-show"},[n("h2",[e._v("Title: "+e._s(e.recipe.title))]),n("img",{attrs:{src:e.recipe.image_url,alt:e.recipe.title}}),n("p",[e._v("Prep time: "+e._s(e.recipe.prep_time))]),n("p",[e._v("Ingredients: "+e._s(e.recipe.ingredients))]),n("p",[e._v("Directions: "+e._s(e.recipe.directions))]),n("button",{on:{click:function(t){return e.destroyRecipe(e.recipe)}}},[e._v("Destroy recipe")]),n("router-link",{attrs:{to:"/recipes/"+e.recipe.id+"/edit"}},[e._v("Edit this recipe")]),n("router-link",{attrs:{to:"/"}},[e._v("Back to all recipes")]),n("div",{attrs:{id:"map"}})],1)},T=[],$=(n("ac6a"),n("bc3a")),I=n.n($),N={data:function(){return{recipe:{},places:[{lat:37.974728,long:-122.03711,description:"Alpine Bakery in Concord, delicious pastries!"},{lat:36.973804,long:-122.02575,description:"Marinis is my favorite ice cream in Santa Cruz"},{lat:37.791852,long:-122.42127,description:"Bob's Donuts in SF makes gigantic donuts, good for sharing (or eating alone!)"}]}},created:function(){var e=this;I.a.get("/api/recipes/"+this.$route.params.id).then(function(t){e.recipe=t.data})},mounted:function(){mapboxgl.accessToken="pk.eyJ1IjoicGV0ZXJ4amFuZyIsImEiOiJjam96NnBwZmUycXI4M3FxaTR3aHQwenhkIn0.Fip_rZYF_exdMEDeQTNYoQ";var e=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-74.5,40],zoom:4});this.places.forEach(function(t){var n=new mapboxgl.Popup({offset:25}).setText(t.description);(new mapboxgl.Marker).setLngLat([t.long,t.lat]).setPopup(n).addTo(e)})},methods:{destroyRecipe:function(e){var t=this;I.a.delete("/api/recipes/"+e.id).then(function(e){console.log("Successfully destroyed recipe",e.data),t.$router.push("/")})}}},A=N,D=(n("fd83"),Object(c["a"])(A,S,T,!1,null,null,null)),O=D.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recipes-edit"},[n("div",[n("h4",[e._v("Edit recipe")]),e._v("\n    Title:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.title,expression:"recipe.title"}],attrs:{type:"text"},domProps:{value:e.recipe.title},on:{input:function(t){t.target.composing||e.$set(e.recipe,"title",t.target.value)}}}),e._v("\n    Chef:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.chef,expression:"recipe.chef"}],attrs:{type:"text"},domProps:{value:e.recipe.chef},on:{input:function(t){t.target.composing||e.$set(e.recipe,"chef",t.target.value)}}}),e._v("\n    Prep time:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.prep_time,expression:"recipe.prep_time"}],attrs:{type:"text"},domProps:{value:e.recipe.prep_time},on:{input:function(t){t.target.composing||e.$set(e.recipe,"prep_time",t.target.value)}}}),e._v("\n    Ingredients:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.ingredients,expression:"recipe.ingredients"}],attrs:{type:"text"},domProps:{value:e.recipe.ingredients},on:{input:function(t){t.target.composing||e.$set(e.recipe,"ingredients",t.target.value)}}}),e._v("\n    Directions:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.directions,expression:"recipe.directions"}],attrs:{type:"text"},domProps:{value:e.recipe.directions},on:{input:function(t){t.target.composing||e.$set(e.recipe,"directions",t.target.value)}}}),e._v("\n    Image url:\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.image_url,expression:"recipe.image_url"}],attrs:{type:"text"},domProps:{value:e.recipe.image_url},on:{input:function(t){t.target.composing||e.$set(e.recipe,"image_url",t.target.value)}}}),n("button",{on:{click:function(t){return e.updateRecipe(e.recipe)}}},[e._v("Update recipe")]),n("router-link",{attrs:{to:"/"}},[e._v("Cancel")])],1)])},M=[],F={data:function(){return{recipe:{}}},created:function(){var e=this;I.a.get("/api/recipes/"+this.$route.params.id).then(function(t){e.recipe=t.data})},methods:{updateRecipe:function(e){var t=this,n={body_title:e.title,body_chef:e.chef,body_ingredients:e.ingredients,body_directions:e.directions};I.a.patch("/api/recipes/"+e.id,n).then(function(n){console.log("Successfully updated",n.data),e=n.data,t.$router.push("/")})}}},J=F,B=Object(c["a"])(J,E,M,!1,null,null,null),L=B.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signup"},[n("div",{staticClass:"container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("h1",[e._v("Signup")]),n("ul",e._l(e.errors,function(t){return n("li",{staticClass:"text-danger"},[e._v(e._s(t))])}),0),n("div",{staticClass:"form-group"},[n("label",[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Password confirmation:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.passwordConfirmation},on:{input:function(t){t.target.composing||(e.passwordConfirmation=t.target.value)}}})]),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},z=[],Z=(n("7f7f"),{data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var e=this,t={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};I.a.post("/api/users",t).then(function(t){e.$router.push("/login")}).catch(function(t){e.errors=t.response.data.errors})}}}),H=Z,Q=Object(c["a"])(H,U,z,!1,null,null,null),V=Q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"container"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[n("h1",[e._v("Login")]),n("ul",e._l(e.errors,function(t){return n("li",{staticClass:"text-danger"},[e._v(e._s(t))])}),0),n("div",{staticClass:"form-group"},[n("label",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},Y=[],q={data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var e=this,t={email:this.email,password:this.password};I.a.post("/api/sessions",t).then(function(t){I.a.defaults.headers.common["Authorization"]="Bearer "+t.data.jwt,localStorage.setItem("jwt",t.data.jwt),e.$emit("changeJwt"),e.$router.push("/")}).catch(function(t){e.errors=["Invalid email or password."],e.email="",e.password=""})}}},G=q,W=Object(c["a"])(G,X,Y,!1,null,null,null),K=W.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logout"})},te=[],ne={created:function(){delete I.a.defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),this.$emit("changeJwt"),this.$router.push("/")}},re=ne,ie=Object(c["a"])(re,ee,te,!1,null,null,null),ae=ie.exports;r["a"].use(u["a"]);var oe=new u["a"]({mode:"history",base:"/",routes:[{path:"/signup",name:"signup",component:V},{path:"/login",name:"login",component:K},{path:"/logout",name:"logout",component:ae},{path:"/",name:"home",component:_},{path:"/recipes",name:"recipes-index",component:_},{path:"/recipes/new",name:"recipes-new",component:k},{path:"/recipes/:id",name:"recipes-show",component:O},{path:"/recipes/:id/edit",name:"recipes-show",component:L},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});I.a.defaults.baseURL="/";var se=localStorage.getItem("jwt");se&&(I.a.defaults.headers.common["Authorization"]="Bearer "+se),r["a"].config.productionTip=!1,new r["a"]({router:oe,render:function(e){return e(p)}}).$mount("#app")},"684b":function(e,t,n){},"856a":function(e,t,n){"use strict";var r=n("91bb"),i=n.n(r);i.a},"91bb":function(e,t,n){},fd83:function(e,t,n){"use strict";var r=n("684b"),i=n.n(r);i.a}});
//# sourceMappingURL=app.e3bf7218.js.map